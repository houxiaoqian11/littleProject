<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="trade_order_ex">
  <resultMap class="cn.guddqs.peakshop.entity.TradeOrder" id="abatorgenerated_TradeOrderResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Oct 10 11:50:45 CST 2017.
    -->
    <result column="id" jdbcType="INTEGER" property="id" />
    <result column="user_id" jdbcType="INTEGER" property="userId" />
    <result column="status" jdbcType="INTEGER" property="status" />
    <result column="product_name" jdbcType="VARCHAR" property="productName" />
    <result column="address_info" jdbcType="VARCHAR" property="addressInfo" />
    <result column="wuliu_no" jdbcType="VARCHAR" property="wuliuNo" />
    <result column="remark" jdbcType="VARCHAR" property="remark" />
    <result column="order_id" jdbcType="VARCHAR" property="orderId" />
    <result column="total_price" jdbcType="DOUBLE" property="totalPrice" />
    <result column="number" jdbcType="INTEGER" property="number" />
    <result column="color" jdbcType="VARCHAR" property="color" />
    <result column="size" jdbcType="VARCHAR" property="size" />
    <result column="phone" jdbcType="VARCHAR" property="phone" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="price" jdbcType="DOUBLE" property="price" />
    <result column="start_time" jdbcType="TIMESTAMP" property="startTime" />
    <result column="end_time" jdbcType="TIMESTAMP" property="endTime" />
    <result column="picture" jdbcType="VARCHAR" property="picture" />
    <result column="cart_id" jdbcType="INTEGER" property="cartId" />
  </resultMap>
  
  <select id="getOrderListEx" resultMap="abatorgenerated_TradeOrderResult" parameterClass="java.util.Map">
		select t.* from trade_order t where 1=1 
		<isNotEmpty prepend="AND" property="orderId">
					t.order_id = #orderId:VARCHAR# 
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="status">
					t.status = #status:INTEGER# 
		</isNotEmpty>
		order by t.end_time desc
   </select>
  
</sqlMap>